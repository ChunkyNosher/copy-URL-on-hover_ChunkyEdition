{
  "id": "6563fe41-674c-4d2c-a731-3b8a0e07e6a9",
  "title": "Bug Fix: Firefox Sidebar API Context",
  "details": "For browser.sidebarAction.open() to work reliably in Firefox:\n\n1. NEVER use async/await in the command listener - use synchronous handler\n2. Call browser.sidebarAction.open() IMMEDIATELY (synchronously) while in user input context\n3. Chain async operations using .then() instead of await:\n   \n   ```javascript\n   browser.commands.onCommand.addListener(command => {  // Note: NOT async\n     if (command === 'open-sidebar') {\n       browser.sidebarAction.open()\n         .then(() => new Promise(resolve => setTimeout(resolve, 300)))\n         .then(() => doAsyncStuff())\n         .catch(err => console.error(err));\n     }\n   });\n   ```\n\nReason: Firefox sidebar API requires synchronous call from user input context. Any await/async before open() breaks this context.",
  "category": "patterns",
  "dateCreated": "2025-11-28T19:29:35.612Z",
  "dateUpdated": "2025-11-28T19:29:35.612Z"
}