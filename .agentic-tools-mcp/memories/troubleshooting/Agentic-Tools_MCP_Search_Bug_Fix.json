{
  "id": "3b83dbd4-7267-428a-8b2c-3179d78d51a6",
  "title": "Agentic-Tools MCP Search Bug Fix",
  "details": "## Root Cause and Fix for search_memories Error\n\n**Error:** `Cannot read properties of undefined (reading 'toLowerCase')`\n\n**Root Cause:**\nMemory file `Gap_7_Structured_Logging_Complete.json` had inconsistent schema - used `content` field instead of `details` field. When agentic-tools MCP search function iterated through memories, it called `.toLowerCase()` on undefined `details` field.\n\n**Fix Applied:**\n1. Identified the problematic file using jq validation\n2. Renamed `content` to `details` to match expected schema\n3. Verified all other memory files have consistent schema\n\n**Memory Schema Requirements:**\nAll memory JSON files MUST have these fields:\n- `id` (string)\n- `title` (string)\n- `details` (string) - NOT `content`\n- `category` (string)\n- `dateCreated` (ISO date string)\n- `dateUpdated` (ISO date string)\n- `metadata` (object, optional)\n\n**Prevention:**\nBefore creating memories, ensure schema matches the expected format. The agentic-tools MCP server expects `details` field, not `content`.\n\n**Validation Command:**\n```bash\n# Check for missing fields in all memory files\nfind .agentic-tools-mcp/memories -name \"*.json\" -exec sh -c 'jq -e \".title and .details and .category\" \"$1\" > /dev/null || echo \"Missing fields in: $1\"' _ {} \\;\n\n# Check for incorrect 'content' field\nfind .agentic-tools-mcp/memories -name \"*.json\" -exec sh -c 'jq -e \".content\" \"$1\" > /dev/null 2>&1 && echo \"Has content field (should be details): $1\"' _ {} \\;\n```\n\n**Result:**\n- search_memories now works correctly\n- Successfully searched for \"issue #47\" - found 10 relevant memories\n- Successfully searched for \"Quick Tabs sync\" - found 3 relevant memories\n- All memory search functionality restored",
  "category": "troubleshooting",
  "dateCreated": "2025-11-24T19:57:25.647Z",
  "dateUpdated": "2025-11-24T19:57:25.647Z"
}